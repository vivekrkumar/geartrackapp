<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Retire Saathi - Pitch Deck</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    body {background-color: #0e121d}
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #ffffff; -webkit-text-stroke: #ffffff}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #ffffff; -webkit-text-stroke: #ffffff; min-height: 14.0px}
    span.s1 {font-kerning: none}
    span.s2 {font: 12.0px 'Apple Color Emoji'; font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;GearTrack&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>/* Ensure body and html are full height and allow main content to scroll */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 100vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>html {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#app-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 100%; /* Make app container fill the viewport height */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>main {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>flex-grow: 1; /* Allow main content to take available space */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>overflow-y: auto; /* Enable vertical scrolling for main content */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding-bottom: 5rem; /* Space for fixed bottom nav */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.fixed-bottom-nav {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>bottom: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>left: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>z-index: 40;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.animate-spin {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>animation: spin 1s linear infinite;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes spin {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>from { transform: rotate(0deg); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>to { transform: rotate(360deg); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>/* Custom scrollbar for better aesthetics */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>::-webkit-scrollbar {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>width: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>::-webkit-scrollbar-track {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #262626; /* zinc-800 */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>::-webkit-scrollbar-thumb {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #f97316; /* orange-500 */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>::-webkit-scrollbar-thumb:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #ea580c; /* orange-600 */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body class="bg-black text-white"&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="app-container"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Header --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;header class="p-4 bg-orange-600 flex items-center justify-between shadow-lg flex-shrink-0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="text-xl font-bold text-white"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span role="img" aria-label="tennis racket and ball"&gt;</span><span class="s2">🎾</span><span class="s1">&lt;/span&gt; GearTrack</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button id="homeButtonHeader" class="p-2 rounded-full hover:bg-orange-700 transition-colors" aria-label="Home"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2 2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/header&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Main Content Area --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;main id="mainContent" class="p-4"&gt;&lt;/main&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- AI Commentary Modal --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="aiCommentaryModal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-zinc-900 text-white p-6 rounded-xl shadow-2xl max-w-md w-full relative border-t-4 border-orange-500 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button id="closeCommentaryModal" class="absolute top-3 right-3 text-2xl text-gray-400 hover:text-white transition-colors" aria-label="Close"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&amp;times;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h2 id="commentaryGearName" class="text-2xl font-bold mb-4 text-orange-400 text-center"&gt;&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;p id="commentaryAiCommentary" class="mb-4 text-gray-200 text-center"&gt;&lt;/p&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-around items-center gap-4 mb-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="font-semibold text-orange-200 mb-1"&gt;Current&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img id="commentaryCurrentImage" src="" alt="Current Gear" class="h-24 w-24 object-contain rounded-lg border border-zinc-700 mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/100x100/333333/FFFFFF?text=Image+Error';" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="font-semibold text-orange-200 mb-1"&gt;Ideal&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img id="commentaryIdealImage" src="" alt="Ideal Gear" class="h-24 w-24 object-contain rounded-lg border border-zinc-700 mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/100x100/FF5722/FFFFFF?text=Image+Error';" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="commentaryInjuries" class="hidden mt-4 p-3 bg-zinc-800 rounded-lg border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;Potential Injury Risks&lt;/h4&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="injuryList" class="flex flex-wrap justify-center gap-4"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button id="checkReplacementGearButton" class="bg-orange-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md w-full mt-6 hover:bg-orange-600 transition-colors duration-300"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>Check Replacement Gear</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button id="getAiMaintenanceTipsButton" class="bg-orange-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md w-full mt-4 hover:bg-orange-800 transition-colors duration-300 flex items-center justify-center gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span id="aiTipsSpinner" class="hidden animate-spin h-5 w-5 text-white"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"&gt;&lt;/circle&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"&gt;&lt;/path&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span id="aiTipsButtonText"&gt;</span><span class="s2">✨</span><span class="s1"> Get AI Maintenance Tips&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="aiMaintenanceTipsOutput" class="hidden mt-4 p-4 bg-zinc-800 rounded-lg border border-orange-600 text-gray-200 whitespace-pre-wrap"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;AI Maintenance Insights&lt;/h4&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Replacement Gear Modal --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="replacementGearModal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-zinc-900 text-white p-6 rounded-xl shadow-2xl max-w-md w-full relative border-t-4 border-orange-500 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button id="closeReplacementGearModal" class="absolute top-3 right-3 text-2xl text-gray-400 hover:text-white transition-colors" aria-label="Close"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&amp;times;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h2 id="replacementGearName" class="text-2xl font-bold mb-4 text-orange-400 text-center"&gt;&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="replacementGearList" class="grid grid-cols-1 gap-4"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;p id="noReplacementSuggestions" class="hidden text-center text-gray-400"&gt;No replacement suggestions for this item yet.&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Bottom Navigation Bar --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;footer class="fixed-bottom-nav bg-zinc-800 text-white flex justify-around items-center h-16 shadow-lg border-t border-orange-700 flex-shrink-0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button id="navHome" class="flex flex-col items-center p-2 rounded-lg transition-colors text-orange-400" aria-label="Home"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2 2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="text-xs mt-1"&gt;Home&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button id="navAddGear" class="flex flex-col items-center p-2 rounded-lg transition-colors text-gray-400 hover:text-orange-300" aria-label="Add Gear"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m0 0l-3-3m3 3l3-3m-3 3V9a9 9 0 110 18A9 9 0 0112 9z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="text-xs mt-1"&gt;Add Gear&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button id="navMyGear" class="flex flex-col items-center p-2 rounded-lg transition-colors text-gray-400 hover:text-orange-300" aria-label="My Gear"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M17 14v6m-3-3h6m-9-11V4a1 1 0 011-1h2a1 1 0 011 1v3m-6 0h6a1 1 0 011 1v3a1 1 0 01-1 1h-6a1 1 0 01-1-1V8a1 1 0 011-1z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="text-xs mt-1"&gt;My Gear&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button id="navProfile" class="flex flex-col items-center p-2 rounded-lg transition-colors text-gray-400 hover:text-orange-300" aria-label="Profile"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="text-xs mt-1"&gt;Profile&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/footer&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Data Definitions (Same as React Version) ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const initialGearData = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Tennis: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "tennis-racket-1", name: "Racket", brand: "Wilson Clash 100 V2", rating: 3, suggestion: "Average", lastReminderDate: "2025-06-15",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Your Wilson Clash 100 V2 shows visible frame wear near the throat, which can affect power strokes and stability, potentially leading to wrist strain. String tension feels loose, causing shots to fall deeper than expected. Consider restringing or replacement to prevent elbow tendonitis.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Wrist Strain", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Wrist" }, { type: "Elbow Tendonitis", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Elbow" }],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Worn+Racket", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=Ideal+Racket", sport: "Tennis" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "tennis-shoes-1", name: "Shoes", brand: "Nike Vapour Zoom v9", rating: 2, suggestion: "Replace", lastReminderDate: "2025-06-20",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Your Nike shoes show significant wear on the inside sole, which is the critical landing spot for traction and stability. This uneven wear risks serious ankle sprains and reduced court grip, impacting quick directional changes. Heel cushioning is also compressed, increasing impact on knees.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Ankle Sprain", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Ankle" }, {type: "Knee Impact", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Knee"}],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Worn+Shoes", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=Ideal+Shoes", sport: "Tennis" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "tennis-balls-1", name: "Balls", brand: "Wilson Premier Court", rating: 4, suggestion: "Good",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Balls are in decent shape with consistent bounce. Minimal fuzzing indicates they still offer good aerodynamics for predictable shots. Keep monitoring for pressure loss or excessive fuzz.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Used+Balls", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Balls", sport: "Tennis" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "tennis-court-1", name: "Court", brand: "Hard Court", rating: 3, suggestion: "Average",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Some surface cracks observed, especially near the baseline. Ensure shoes with adequate grip are used to avoid slipping during aggressive play. Uneven surfaces can increase risk of twisted ankles or knee bruises.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Knee Bruise", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Knee" }, {type: "Ankle Twist", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Ankle"}],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Current+Court", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=Perfect+Court", sport: "Tennis" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Badminton: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "badminton-racket-1", name: "Racket", brand: "Yonex Astrox 88S", rating: 4, suggestion: "Good",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Strings are taut and show good tension, frame shows minimal wear. This racket is in good condition for continued precise shots and powerful smashes.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Used+Badminton+Racket", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Badminton+Racket", sport: "Badminton" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "badminton-shoes-1", name: "Shoes", brand: "Li-Ning Saga", rating: 3, suggestion: "Average",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Sole grip is slightly worn, particularly on the forefoot. This could compromise quick lateral movements and increase the risk of ankle twists. Consider cleaning or replacing for optimal court traction.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Ankle Twist", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Ankle" }],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Used+Badminton+Shoes", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Badminton+Shoes", sport: "Badminton" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Running: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "running-shoes-1", name: "Shoes", brand: "Brooks Ghost 14", rating: 2, suggestion: "Replace", lastReminderDate: "2025-06-25",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Midsole compression is high, especially under the heel and forefoot, indicating lost cushioning. Outsole tread is significantly worn, reducing grip on varied surfaces. Replace soon to prevent knee and joint pain, and reduce risk of slips.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Knee Pain", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Knee" }, { type: "Shin Splints", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Shin" }],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Worn+Running+Shoes", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Running+Shoes", sport: "Running" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "running-watch-1", name: "Watch", brand: "Garmin Forerunner 245", rating: 5, suggestion: "Excellent",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Device is in excellent condition, no visible wear or scratches on the screen or band. All sensors appear functional.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Current+Watch", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Watch", sport: "Running" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Squash: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "squash-racket-1", name: "Racket", brand: "Head Graphene XT", rating: 3, suggestion: "Average",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Some string fraying is visible, and minor frame scratches indicate impact. Consider restringing soon to maintain shot power and control. Continued use with frayed strings can lead to wrist strain.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [{ type: "Wrist Strain", image: "https://placehold.co/40x40/FF5722/FFFFFF?text=Wrist" }],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Used+Squash+Racket", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Squash+Racket", sport: "Squash" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "squash-balls-1", name: "Balls", brand: "Dunlop Pro", rating: 4, suggestion: "Good",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>aiCommentary: "Balls retain good bounce and minimal scuffing. They are still suitable for competitive play. Store properly to maintain pressure.",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>currentImage: "https://placehold.co/100x100/333333/FFFFFF?text=Used+Squash+Balls", idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Squash+Balls", sport: "Squash" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const replacementGearData = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Racket: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-racket-1", name: "New Gen Racket X", price: "$250", status: "On Sale!", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Racket+X" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-racket-2", name: "Pro Series Racket Y", price: "$300", status: "New Arrival", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Pro+Racket+Y" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-racket-3", name: "Carbon Fiber Pro", price: "$280", status: "Limited Stock", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Carbon+Racket" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Shoes: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-shoes-1", name: "Court Master Z", price: "$120", status: "Best Seller", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=New+Shoes+Z" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-shoes-2", name: "Agility Runner A", price: "$150", status: "Limited Stock", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Agility+Shoes" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-shoes-3", name: "Speedster Pro", price: "$135", status: "Flash Sale", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Speedster+Shoes" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Balls: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-balls-1", name: "Premium Bounce Pack", price: "$25", status: "Bulk Deal", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Premium+Balls" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "repl-balls-2", name: "Tournament Grade 3-Pack", price: "$10", status: "New Stock", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Tour+Balls" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const mockPopularGearFromInternet = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Racket: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-racket-1", brand: "Babolat", name: "Pure Aero", price: "$239.99", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Babolat+Aero" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-racket-2", brand: "Head", name: "Speed Pro", price: "$229.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Head+Speed" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-racket-3", brand: "Wilson", name: "Blade 98", price: "$219.50", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Wilson+Blade" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-racket-4", brand: "Yonex", name: "Ezone 98", price: "$249.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Yonex+Ezone" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Shoes: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-shoes-1", brand: "Adidas", name: "Barricade", price: "$130.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Adidas+Barricade" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-shoes-2", brand: "Asics", name: "Gel-Resolution 9", price: "$145.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Asics+Gel" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-shoes-3", brand: "New Balance", name: "FuelCell 996v5", price: "$125.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=NB+FuelCell" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ id: "pop-shoes-4", brand: "Nike", name: "Court Zoom Vapor Cage 4", price: "$150.00", image: "https://placehold.co/100x100/FF5722/FFFFFF?text=Nike+Vapor" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Helper to flatten initialGearData into a single list with sport property</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const getInitialEquipmentList = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let list = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for (const sport in initialGearData) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>initialGearData[sport].forEach(item =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>list.push({ ...item, id: `${sport.toLowerCase()}-${item.name.toLowerCase()}-${Date.now()}-${Math.random().toString(36).substring(2, 8)}` });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return list;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Global State and Variables ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Using an object to hold state for easier management in plain JS</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const appState = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appMode: 'sportsSelection', // 'sportsSelection', 'sportDashboard', 'summaryView', 'injuriesAvoidedDetail', 'gameImprovementDetail', 'gearList', 'addGear'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>selectedSport: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>commentaryGear: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>equipmentList: getInitialEquipmentList(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>showReplacementGear: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>showIndividualAnalysisButtons: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiMaintenanceTips: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiTipsLoading: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>selectedPopularGearType: 'Racket', // For popular gear list selection</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>newGearName: '',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>newGearType: 'Racket',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>newGearSport: 'Tennis',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>uploadedImageFile: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>autoTagResult: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const mainContent = document.getElementById('mainContent');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const aiCommentaryModal = document.getElementById('aiCommentaryModal');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const replacementGearModal = document.getElementById('replacementGearModal');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Helper Functions ---</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function render() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.innerHTML = ''; // Clear current content</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>updateBottomNav();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (appState.appMode === 'sportsSelection') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderSportsSelection();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'sportDashboard') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderSportDashboard();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'summaryView') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderSummaryView();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'injuriesAvoidedDetail') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderInjuriesAvoidedDetail();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'gameImprovementDetail') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderGameImprovementDetail();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'gearList') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderGearList();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'addGear') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderAddGear();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Manage modal visibility</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiCommentaryModal.classList.toggle('hidden', !appState.commentaryGear);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>replacementGearModal.classList.toggle('hidden', !appState.showReplacementGear);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function navigate(mode, sport = null) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.appMode = mode;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.selectedSport = sport;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.commentaryGear = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.showReplacementGear = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.showIndividualAnalysisButtons = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiMaintenanceTips = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiTipsLoading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.newGearName = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.newGearType = 'Racket';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.newGearSport = 'Tennis';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.uploadedImageFile = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.autoTagResult = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.selectedPopularGearType = 'Racket';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function updateBottomNav() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.querySelectorAll('footer button').forEach(button =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>button.classList.remove('text-orange-400');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>button.classList.add('text-gray-400', 'hover:text-orange-300');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (appState.appMode === 'sportsSelection') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('navHome').classList.add('text-orange-400');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'addGear') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('navAddGear').classList.add('text-orange-400');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (appState.appMode === 'gearList' || appState.appMode === 'sportDashboard' || appState.appMode === 'summaryView' || appState.appMode === 'injuriesAvoidedDetail' || appState.appMode === 'gameImprovementDetail') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('navMyGear').classList.add('text-orange-400');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Render Functions for each View ---</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderSportsSelection() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const grid = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>grid.className = 'grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Object.keys(initialGearData).forEach(sport =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>card.className = 'bg-orange-700 text-white rounded-xl shadow-lg cursor-pointer hover:bg-orange-800 transition-colors duration-300 transform hover:scale-105';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>card.innerHTML = `&lt;div class="p-6 text-center font-semibold text-lg"&gt;${sport}&lt;/div&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>card.onclick = () =&gt; navigate('sportDashboard', sport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>grid.appendChild(card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(grid);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderSportDashboard() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('sportsSelection')" aria-label="Back to Sports"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;${appState.selectedSport} Dashboard&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4" id="dashboardOptions"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const dashboardOptions = div.querySelector('#dashboardOptions');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>[</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Dashboard', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /&gt;&lt;/svg&gt;', description: 'Overview of your activities and stats.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Gear Health', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /&gt;&lt;/svg&gt;', description: 'Detailed analysis of your equipment condition.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Buy Gear', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /&gt;&lt;/svg&gt;', description: 'Find new and recommended equipment.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Trade Gear', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4l-4 4m0 0l4 4m-4-4h14" /&gt;&lt;/svg&gt;', description: 'Exchange or sell your used equipment.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Tips to Improve', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 17v5m-4.5-1.5h9m-11.487-10.325A4.5 4.5 0 0112 4.5c1.932 0 3.597 1.126 4.312 2.733.715 1.607.28 3.493-1.11 4.5V13.5a2.25 2.25 0 01-2.25 2.25h-1.5a2.25 2.25 0 01-2.25-2.25V11.25c-1.39-.977-1.82-2.863-1.11-4.5z" /&gt;&lt;/svg&gt;', description: 'Get insights and articles for better play.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{ name: 'Get Coached', icon: '&lt;svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-orange-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M12 14l9-5-9-5-9 5 9 5zm0 0v4l-9 5V19l9-5zm0 0v4l9 5V19l-9-5z" /&gt;&lt;/svg&gt;', description: 'Connect with expert coaches for personalized guidance.' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>].forEach(option =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const optionDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>optionDiv.className = 'bg-zinc-900 text-white rounded-xl shadow-lg p-6 cursor-pointer hover:bg-zinc-800 transition-colors duration-300 transform hover:scale-105 flex flex-col items-center text-center justify-center min-h-[120px]';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>optionDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>${option.icon}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-1"&gt;${option.name}&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-400"&gt;${option.description}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>optionDiv.onclick = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if (option.name === 'Gear Health') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>navigate('gearList', appState.selectedSport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>} else if (option.name === 'Dashboard') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>navigate('summaryView', appState.selectedSport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>alert(`'${option.name}' feature coming soon!`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>dashboardOptions.appendChild(optionDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderSummaryView() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const currentDate = new Date('2025-07-03'); // Mock current date</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const urgentReplacementGear = appState.equipmentList.filter(item =&gt; item.suggestion === 'Replace');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const alerts = urgentReplacementGear.map(item =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>let daysSince = 'N/A';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (item.lastReminderDate) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const reminderDate = new Date(item.lastReminderDate);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const diffTime = Math.abs(currentDate.getTime() - reminderDate.getTime());</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>daysSince = diffDays;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>id: item.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>type: 'warning',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>message: `${item.name} (${item.brand}) needs urgent replacement. Reminder sent ${daysSince} days ago.`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>daysSinceReminder: daysSince,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (alerts.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alerts.push({ id: 'no-urgent-gear', type: 'info', message: 'No urgent gear replacements needed at this time!' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alerts.push({ id: 'general-tip', type: 'success', message: 'All your current gear is in good health or being monitored.' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({ id: 'general-tip-2', type: 'info', message: 'Remember to check your string tension regularly for optimal play.' });</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const mockSummaryData = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alerts: alerts,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>recentActivities: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>{ id: 1, activity: 'Logged Tennis session', date: '2025-07-01' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>{ id: 2, activity: 'Viewed Racket analysis', date: '2025-06-30' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>{ id: 3, activity: 'Added new running shoes', date: '2025-06-28' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>injuriesAvoided: 5,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>gameImprovementScore: 15,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>overallGearHealth: 'Good',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('sportDashboard', '${appState.selectedSport}')" aria-label="Back to Dashboard"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;${appState.selectedSport} Summary&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700 text-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-2"&gt;Overall Gear Health&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-4xl font-extrabold text-orange-500"&gt;${mockSummaryData.overallGearHealth}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 text-sm mt-1"&gt;Based on recent analyses&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Alerts&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>${mockSummaryData.alerts.map(alert =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 rounded-lg flex items-center gap-3 ${</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>alert.type === 'warning' ? 'bg-yellow-900 text-yellow-200 border border-yellow-700' : ''</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>}${</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>alert.type === 'info' ? 'bg-blue-900 text-blue-200 border border-blue-700' : ''</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>}${</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>alert.type === 'success' ? 'bg-green-900 text-green-200 border border-green-700' : ''</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>${alert.type === 'warning' ? '&lt;span role="img" aria-label="warning"&gt;</span><span class="s2">⚠️</span><span class="s1">&lt;/span&gt;' : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>${alert.type === 'info' ? '&lt;span role="img" aria-label="info"&gt;</span><span class="s2">ℹ️</span><span class="s1">&lt;/span&gt;' : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>${alert.type === 'success' ? '&lt;span role="img" aria-label="success"&gt;</span><span class="s2">✅</span><span class="s1">&lt;/span&gt;' : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm flex-grow"&gt;${alert.message}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Urgent Replacement Needed&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>${urgentReplacementGear.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>${urgentReplacementGear.map(gear =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="p-3 bg-red-900 text-red-200 rounded-lg border border-red-700 flex items-center gap-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span role="img" aria-label="alert"&gt;</span><span class="s2">🚨</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-sm flex-grow"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;strong&gt;${gear.name} (${gear.brand})&lt;/strong&gt; - Needs replacement.</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>${gear.lastReminderDate ? ` Reminder sent ${gear.daysSinceReminder} days ago.` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>` : `&lt;p class="text-gray-400 text-center"&gt;No gear requires urgent replacement.&lt;/p&gt;`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="injuriesAvoidedCard" class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700 text-center cursor-pointer hover:bg-zinc-800 transition-colors"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-2"&gt;Injuries Avoided&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-4xl font-extrabold text-green-500"&gt;${mockSummaryData.injuriesAvoided}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 text-sm mt-1"&gt;Due to proactive gear replacement&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="gameImprovementCard" class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700 text-center cursor-pointer hover:bg-zinc-800 transition-colors"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-2"&gt;Overall Game Improvement&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-4xl font-extrabold text-blue-400"&gt;${mockSummaryData.gameImprovementScore}%&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 text-sm mt-1"&gt;Based on coaching inputs &amp; performance tracking&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Recent Activities&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>${mockSummaryData.recentActivities.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>${mockSummaryData.recentActivities.map(activity =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center text-gray-300 text-sm"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;${activity.activity}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500"&gt;${activity.date}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>` : `&lt;p class="text-gray-400 text-center"&gt;No recent activities.&lt;/p&gt;`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Add event listeners for the new clickable cards</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('injuriesAvoidedCard').onclick = () =&gt; navigate('injuriesAvoidedDetail', appState.selectedSport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('gameImprovementCard').onclick = () =&gt; navigate('gameImprovementDetail', appState.selectedSport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderInjuriesAvoidedDetail() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('summaryView', '${appState.selectedSport}')" aria-label="Back to Summary"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;${appState.selectedSport} Injuries Avoided&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Details of Avoided Injuries&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="p-3 bg-green-900 text-green-200 rounded-lg border border-green-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="font-semibold"&gt;Ankle Sprain Avoided (Tennis Shoes)&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm mt-1"&gt;By replacing your Nike Vapour Zoom v9 shoes on time, you avoided a potential severe ankle sprain due to worn-out sole traction.&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="p-3 bg-green-900 text-green-200 rounded-lg border border-green-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="font-semibold"&gt;Elbow Tendonitis Prevented (Tennis Racket)&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm mt-1"&gt;Early restringing of your Wilson Clash 100 V2 racket prevented chronic elbow tendonitis caused by inconsistent string tension.&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="p-3 bg-green-900 text-green-200 rounded-lg border border-green-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="font-semibold"&gt;Knee Pain Averted (Running Shoes)&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm mt-1"&gt;Upgrading your Brooks Ghost 14 running shoes due to degraded midsole cushioning helped avoid repetitive stress knee pain during long runs.&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderGameImprovementDetail() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('summaryView', '${appState.selectedSport}')" aria-label="Back to Summary"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;${appState.selectedSport} Game Improvement&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-6 border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Game Improvement Details&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-4 text-gray-300"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p&gt;Based on the latest video analysis uploaded on 2025-06-28 and subsequent coaching inputs:&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;ul class="list-disc list-inside space-y-2 ml-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;li&gt;Your overall shot-making power has improved considerably, showing a 10% increase in average ball speed.&lt;/li&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;li&gt;Footwork efficiency has seen a 5% improvement, leading to better court coverage.&lt;/li&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;li&gt;Serve consistency is up by 8%, with fewer double faults.&lt;/li&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;li&gt;These improvements are directly linked to the insights gained from personalized coaching sessions focusing on your technique and strategy.&lt;/li&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/ul&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="mt-4 text-gray-400"&gt;Keep uploading videos to track your progress and get more tailored advice!&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderGearList() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center justify-between mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('sportDashboard', '${appState.selectedSport}')" aria-label="Back to Dashboard"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;${appState.selectedSport} Gear&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button id="toggleAnalysisButtons" class="bg-orange-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-orange-600 transition-colors duration-300 text-sm"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>${appState.showIndividualAnalysisButtons ? 'Hide AI Analysis' : 'Check AI Analysis on Gear'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="gearListContent"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const gearListContent = div.querySelector('#gearListContent');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const filteredEquipment = appState.equipmentList.filter(item =&gt; item.sport === appState.selectedSport); // Filter dynamically</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (filteredEquipment.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>gearListContent.innerHTML = `&lt;p class="text-gray-400 text-center mt-8"&gt;No gear added for ${appState.selectedSport} yet. Add some!&lt;/p&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>filteredEquipment.forEach(item =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const gearCard = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>gearCard.className = 'mb-4 bg-zinc-900 text-white rounded-xl shadow-lg p-4 border border-zinc-700';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>gearCard.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-col sm:flex-row justify-between items-start sm:items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="mb-3 sm:mb-0 flex-grow"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;h3 class="text-xl font-bold text-orange-300"&gt;${item.name}&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-300"&gt;${item.brand}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center gap-2 mt-1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-sm text-gray-300"&gt;Condition: &lt;span class="font-semibold"&gt;${item.rating} / 5&lt;/span&gt;&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div class="bg-orange-800 text-orange-200 font-bold px-3 py-1 rounded-full text-xs flex-shrink-0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>${item.suggestion}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;button class="view-analysis-button bg-zinc-700 text-gray-300 font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-zinc-600 transition-colors duration-300 flex-shrink-0 text-sm mt-2 sm:mt-0 ${appState.showIndividualAnalysisButtons ? '' : 'hidden'}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>View Analysis</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>gearCard.querySelector('.view-analysis-button').onclick = () =&gt; openCommentaryModal(item);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>gearListContent.appendChild(gearCard);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.querySelector('#toggleAnalysisButtons').onclick = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.showIndividualAnalysisButtons = !appState.showIndividualAnalysisButtons;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>render(); // Re-render to update button visibility</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderAddGear() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const div = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.className = 'p-2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>div.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="p-2 rounded-full hover:bg-zinc-700 transition-colors mr-2" onclick="navigate('sportsSelection')" aria-label="Back to Sports"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-orange-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-orange-400"&gt;Add New Gear&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;!-- Manual Addition Section --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg mb-8 border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Add Manually&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="newGearName" placeholder="Gear Name (e.g., My New Racket)" class="w-full p-3 mb-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500" value="${appState.newGearName}" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;select id="newGearType" class="w-full p-3 mb-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500" value="${appState.newGearType}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;option value="Racket"&gt;Racket&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;option value="Shoes"&gt;Shoes&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;option value="Balls"&gt;Balls&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;option value="Court"&gt;Court&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;select id="newGearSport" class="w-full p-3 mb-4 bg-zinc-800 border border-zinc-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500" value="${appState.newGearSport}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>${Object.keys(initialGearData).map(sport =&gt; `&lt;option value="${sport}"&gt;${sport}&lt;/option&gt;`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button id="addManualGearButton" class="bg-orange-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md w-full hover:bg-orange-600 transition-colors duration-300"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>Add Gear Manually</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;!-- Photo Upload &amp; Auto-Tagging Section --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 mb-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Upload Photo for Auto-Tagging&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;label for="photo-upload" class="flex items-center justify-center p-4 mb-4 bg-zinc-800 border-2 border-dashed border-orange-500 rounded-lg cursor-pointer hover:bg-zinc-700 transition-colors duration-300 text-orange-400"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-8 h-8 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span&gt;Click to Upload Photo&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;input id="photo-upload" type="file" accept="image/*" class="hidden" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/label&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="uploadedImageContainer" class="${appState.uploadedImageFile ? '' : 'hidden'} text-center mb-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-400 mb-2"&gt;Uploaded Image:&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img id="uploadedImagePreview" src="${appState.uploadedImageFile || ''}" alt="Uploaded" class="max-h-40 mx-auto rounded-lg border border-zinc-700" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="autoTagResultContainer" class="${appState.autoTagResult || appState.aiTipsLoading ? '' : 'hidden'} mt-4 p-4 bg-zinc-800 rounded-lg border border-orange-600 text-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-orange-200 font-semibold mb-2"&gt;AI Detected:&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p id="autoTagResultText" class="text-lg text-white font-bold"&gt;${appState.autoTagResult ? `${appState.autoTagResult.detectedType} for ${appState.autoTagResult.detectedSport}` : 'Detecting...'}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button id="addAutoTaggedGearButton" class="bg-orange-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md mt-4 hover:bg-orange-600 transition-colors duration-300 ${appState.autoTagResult ? '' : 'hidden'}" ${appState.aiTipsLoading ? 'disabled' : ''}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>Add Auto-Tagged Gear to Profile</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;!-- Browse Popular Gear Section --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-orange-300 mb-4"&gt;Browse Popular Gear&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-center gap-2 mb-4" id="popularGearTypeButtons"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="px-4 py-2 rounded-lg font-semibold text-sm transition-colors duration-200 ${appState.selectedPopularGearType === 'Racket' ? 'bg-orange-600 text-white' : 'bg-zinc-700 text-gray-300 hover:bg-zinc-600'}" data-type="Racket"&gt;Rackets&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="px-4 py-2 rounded-lg font-semibold text-sm transition-colors duration-200 ${appState.selectedPopularGearType === 'Shoes' ? 'bg-orange-600 text-white' : 'bg-zinc-700 text-gray-300 hover:bg-zinc-600'}" data-type="Shoes"&gt;Shoes&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="popularGearList" class="grid grid-cols-1 sm:grid-cols-2 gap-4"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>mainContent.appendChild(div);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Event Listeners for Add Gear Page</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('addManualGearButton').onclick = handleAddManualGear;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('photo-upload').onchange = handlePhotoUploadForTagging;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('addAutoTaggedGearButton').onclick = handleAddAutoTaggedGear;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('popularGearTypeButtons').querySelectorAll('button').forEach(button =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>button.onclick = (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>appState.selectedPopularGearType = e.target.dataset.type;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('popularGearTypeButtons').querySelectorAll('button').forEach(btn =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>btn.classList.remove('bg-orange-600', 'text-white');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>btn.classList.add('bg-zinc-700', 'text-gray-300', 'hover:bg-zinc-600');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>// Corrected class manipulation</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>e.target.classList.remove('bg-zinc-700', 'text-gray-300', 'hover:bg-zinc-600');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>e.target.classList.add('bg-orange-600', 'text-white');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>renderPopularGearList();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderPopularGearList(); // Initial render of popular gear</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Modal Functions ---</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function openCommentaryModal(item) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.commentaryGear = item;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('commentaryGearName').textContent = `${item.name} Analysis`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('commentaryAiCommentary').textContent = item.aiCommentary;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('commentaryCurrentImage').src = item.currentImage;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('commentaryIdealImage').src = item.idealImage;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const injuryList = document.getElementById('injuryList');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>injuryList.innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (item.injuries &amp;&amp; item.injuries.length &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('commentaryInjuries').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>item.injuries.forEach(inj =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const injuryDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>injuryDiv.className = 'text-center flex flex-col items-center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>injuryDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img src="${inj.image}" alt="${inj.type}" class="h-10 w-10 object-contain mx-auto mb-1" onerror="this.onerror=null;this.src='https://placehold.co/40x40/FF5722/FFFFFF?text=?';" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-xs text-gray-400"&gt;${inj.type}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>injuryList.appendChild(injuryDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('commentaryInjuries').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Show/hide "Check Replacement Gear" button</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const checkReplacementBtn = document.getElementById('checkReplacementGearButton');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (item.name === "Racket" || item.name === "Shoes" || item.name === "Balls") {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>checkReplacementBtn.classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>checkReplacementBtn.onclick = () =&gt; openReplacementGearModal(item);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>checkReplacementBtn.classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Reset AI Maintenance Tips section</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiMaintenanceTipsOutput').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiMaintenanceTipsOutput').innerHTML = '&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;AI Maintenance Insights&lt;/h4&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiTipsButtonText').textContent = '</span><span class="s2">✨</span><span class="s1"> Get AI Maintenance Tips';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiTipsSpinner').classList.add('hidden');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiCommentaryModal.classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function closeCommentaryModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.commentaryGear = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiCommentaryModal.classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.showReplacementGear = false; // Ensure replacement modal is also closed</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiMaintenanceTips = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiTipsLoading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>render(); // Re-render to clear any lingering modal state</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function openReplacementGearModal(item) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.showReplacementGear = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('replacementGearName').textContent = `Replacement ${item.name} Suggestions`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const replacementListContainer = document.getElementById('replacementGearList');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>replacementListContainer.innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('noReplacementSuggestions').classList.add('hidden');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (replacementGearData[item.name] &amp;&amp; replacementGearData[item.name].length &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>replacementGearData[item.name].forEach(replItem =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const replDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>replDiv.className = 'bg-zinc-800 p-3 rounded-lg flex items-center gap-4 border border-zinc-700';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>replDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img src="${replItem.image}" alt="${replItem.name}" class="h-16 w-16 object-contain rounded-md border border-zinc-600" onerror="this.onerror=null;this.src='https://placehold.co/64x64/333333/FFFFFF?text=Item';" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-grow"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-orange-200"&gt;${replItem.name}&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-300"&gt;Price: ${replItem.price}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-400"&gt;${replItem.status}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="bg-orange-600 text-white px-3 py-1 rounded-md text-sm hover:bg-orange-700 transition-colors"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>View</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>replacementListContainer.appendChild(replDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('noReplacementSuggestions').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>replacementGearModal.classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function closeReplacementGearModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.showReplacementGear = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>replacementGearModal.classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>render(); // Re-render to clear any lingering modal state</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Event Handlers for Add Gear Page ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function handleAddManualGear() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const nameInput = document.getElementById('newGearName');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const typeSelect = document.getElementById('newGearType');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const sportSelect = document.getElementById('newGearSport');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const name = nameInput.value.trim();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const type = typeSelect.value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const sport = sportSelect.value;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (name &amp;&amp; type &amp;&amp; sport) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const newId = `${sport.toLowerCase()}-${type.toLowerCase()}-${Date.now()}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const newGearItem = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>id: newId,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>name: name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>brand: "User Added",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>rating: 3,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>suggestion: "Needs Analysis",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>aiCommentary: "No AI analysis performed yet. Upload a photo!",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>currentImage: "https://placehold.co/100x100/555555/FFFFFF?text=No+Image",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=Ideal",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>sport: sport,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.equipmentList.push(newGearItem); // Directly modify the array</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alert(`'${name}' (${type}) for ${sport} added!`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>navigate('gearList', sport); // Go to gear list for the added sport</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alert("Please fill in all manual gear details.");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function handlePhotoUploadForTagging(event) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const file = event.target.files[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (file) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.uploadedImageFile = URL.createObjectURL(file);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('uploadedImagePreview').src = appState.uploadedImageFile;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('uploadedImageContainer').classList.remove('hidden');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Simulate AI processing and tagging</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('autoTagResultText').textContent = 'Detecting...';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('autoTagResultContainer').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('addAutoTaggedGearButton').disabled = true;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const randomGearTypes = ['Racket', 'Shoes', 'Balls', 'Court'];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const randomSportTypes = ['Tennis', 'Badminton', 'Running', 'Squash'];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const detectedType = randomGearTypes[Math.floor(Math.random() * randomGearTypes.length)];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const detectedSport = randomSportTypes[Math.floor(Math.random() * randomSportTypes.length)];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>appState.autoTagResult = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>detectedType,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>detectedSport,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>imageUrl: appState.uploadedImageFile,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('autoTagResultText').textContent = `${appState.autoTagResult.detectedType} for ${appState.autoTagResult.detectedSport}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('addAutoTaggedGearButton').disabled = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}, 1500); // Simulate AI delay</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function handleAddAutoTaggedGear() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (appState.autoTagResult) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const newId = `${appState.autoTagResult.detectedSport.toLowerCase()}-${appState.autoTagResult.detectedType.toLowerCase()}-${Date.now()}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const newGearItem = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>id: newId,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>name: appState.autoTagResult.detectedType,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>brand: "Auto-Tagged",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>rating: 3,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>suggestion: "Needs Analysis",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>aiCommentary: "No AI analysis performed yet. Upload a photo!",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>currentImage: appState.autoTagResult.imageUrl,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>idealImage: "https://placehold.co/100x100/FF5722/FFFFFF?text=Ideal",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>sport: appState.autoTagResult.detectedSport,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.equipmentList.push(newGearItem);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alert(`Auto-tagged '${appState.autoTagResult.detectedType}' for ${appState.autoTagResult.detectedSport} added!`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>navigate('gearList', appState.autoTagResult.detectedSport);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function handleAddPopularGear(item) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const newId = `${item.brand.toLowerCase()}-${item.name.toLowerCase()}-${Date.now()}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const newGearItem = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>id: newId,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>name: item.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>brand: item.brand,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>rating: 4,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>suggestion: "New Gear",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>aiCommentary: "This is new gear! No wear detected yet. Enjoy your first sessions!",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>injuries: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>currentImage: item.image,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>idealImage: item.image,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>sport: "Tennis", // Assuming popular gear shown here is for Tennis for simplicity</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.equipmentList.push(newGearItem);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alert(`'${item.name}' added to your profile!`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>navigate('gearList', 'Tennis');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Gemini API call for AI Maintenance Tips</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function getAiMaintenanceTips(gear) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiTipsLoading = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>appState.aiMaintenanceTips = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiTipsSpinner').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiTipsButtonText').textContent = 'Generating Tips...';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('getAiMaintenanceTipsButton').disabled = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('aiMaintenanceTipsOutput').classList.add('hidden'); // Hide previous output</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const prompt = `Based on the following AI analysis of a ${gear.name} (${gear.brand}): "${gear.aiCommentary}". Generate 3 specific, actionable maintenance tips for this equipment. Also, list 2 common FAQs about maintaining this type of gear and their brief answers. Format as:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Maintenance Tips:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>- Tip 1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>- Tip 2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>- Tip 3</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>FAQs:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>- Q1? A1.</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>- Q2? A2.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let chatHistory = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>chatHistory.push({ role: "user", parts: [{ text: prompt }] });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const payload = { contents: chatHistory };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const apiKey = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const response = await fetch(apiUrl, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>method: 'POST',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'application/json' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>body: JSON.stringify(payload)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const result = await response.json();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (result.candidates &amp;&amp; result.candidates.length &gt; 0 &amp;&amp;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>result.candidates[0].content &amp;&amp; result.candidates[0].content.parts &amp;&amp;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>result.candidates[0].content.parts.length &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const text = result.candidates[0].content.parts[0].text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>appState.aiMaintenanceTips = text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('aiMaintenanceTipsOutput').innerHTML = `&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;AI Maintenance Insights&lt;/h4&gt;${text}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('aiMaintenanceTipsOutput').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>appState.aiMaintenanceTips = "Could not generate tips. Please try again.";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('aiMaintenanceTipsOutput').innerHTML = `&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;AI Maintenance Insights&lt;/h4&gt;&lt;p&gt;${appState.aiMaintenanceTips}&lt;/p&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('aiMaintenanceTipsOutput').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} catch (error) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>console.error("Error calling Gemini API:", error);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.aiMaintenanceTips = "Error generating tips. Please check console for details.";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('aiMaintenanceTipsOutput').innerHTML = `&lt;h4 class="font-semibold text-orange-300 mb-2 text-center"&gt;AI Maintenance Insights&lt;/h4&gt;&lt;p&gt;${appState.aiMaintenanceTips}&lt;/p&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('aiMaintenanceTipsOutput').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} finally {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>appState.aiTipsLoading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('aiTipsSpinner').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('aiTipsButtonText').textContent = '</span><span class="s2">✨</span><span class="s1"> Get AI Maintenance Tips';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById('getAiMaintenanceTipsButton').disabled = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- Initial Render &amp; Event Listeners ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Global Nav Buttons</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('homeButtonHeader').onclick = () =&gt; navigate('sportsSelection');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('navHome').onclick = () =&gt; navigate('sportsSelection');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('navAddGear').onclick = () =&gt; navigate('addGear');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('navMyGear').onclick = () =&gt; navigate('gearList', appState.selectedSport || Object.keys(initialGearData)[0]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('navProfile').onclick = () =&gt; alert("Profile coming soon!");</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Modal Close Buttons</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>aiCommentaryModal.onclick = closeCommentaryModal; // Click outside to close</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('closeCommentaryModal').onclick = closeCommentaryModal;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>replacementGearModal.onclick = closeReplacementGearModal; // Click outside to close</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('closeReplacementGearModal').onclick = closeReplacementGearModal;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// AI Maintenance Tips button inside commentary modal</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('getAiMaintenanceTipsButton').onclick = () =&gt; getAiMaintenanceTips(appState.commentaryGear);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>render(); // Initial render of the app</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
